#!/usr/bin/env node

const shell = require('shelljs');
const assignment = shell.env['ASSIGNMENT'];
const helpers = require('./helpers');

function copyConfig(destination) {
  helpers.createExercisePackageJson();
  shell.cat('exercise-package.json').to(destination + '/package.json');
  shell.rm('exercise-package.json');

  shell.cp('babel.config.js', destination);
  shell.cp('.eslintrc', destination);
}

if(assignment) {
  shell.echo('Syncing ' + assignment + '...');
  copyConfig('exercises/' + assignment);
}
else {
  shell.echo('Syncing all assignments...');
  helpers.assignments.forEach(assignment => copyConfig('exercises/' + assignment));
}
