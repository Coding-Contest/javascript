{
  "{\"assumptions\":{},\"sourceRoot\":\"/home/runner/work/javascript/javascript/scripts/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/runner/work/javascript/javascript\",\"filename\":\"/home/runner/work/javascript/javascript/scripts/helpers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/runner/work/javascript/javascript\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-bigint\",\"visitor\":{},\"options\":{}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true}},{\"key\":\"inject-polyfills\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"entry-global\",\"version\":\"3.10.0\",\"targets\":{\"node\":\"14.16.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false}},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"deprecated\":true}},{\"key\":\"preset-env/remove-regenerator\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"entry-global\",\"version\":\"3.10.0\",\"targets\":{\"node\":\"14.16.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false}}],\"presets\":[]}:7.14.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/home/runner/work/javascript/javascript/scripts/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/runner/work/javascript/javascript",
      "filename": "/home/runner/work/javascript/javascript/scripts/helpers.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/home/runner/work/javascript/javascript",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-bigint",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "inject-polyfills",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "method": "entry-global",
            "version": "3.10.0",
            "targets": {
              "node": "14.16.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "debug": false
          }
        },
        {
          "key": "preset-env/replace-babel-polyfill",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "deprecated": true
          }
        },
        {
          "key": "preset-env/remove-regenerator",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "method": "entry-global",
            "version": "3.10.0",
            "targets": {
              "node": "14.16.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/runner/work/javascript/javascript/scripts/helpers.js",
        "plugins": [
          "bigInt",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/home/runner/work/javascript/javascript/scripts/helpers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/runner/work/javascript/javascript/scripts/",
        "sourceFileName": "helpers.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assertAssignment = assertAssignment;\nexports.sha = sha;\nexports.findExerciseDirectory = findExerciseDirectory;\nexports.fileConfiguration = fileConfiguration;\nexports.hasStub = hasStub;\nexports.envIsThruthy = envIsThruthy;\nexports.shouldPrepare = shouldPrepare;\nexports.shouldCleanup = shouldCleanup;\nexports.prepareAndRun = prepareAndRun;\nexports.cleanUp = cleanUp;\nexports.createExercisePackageJson = createExercisePackageJson;\nexports.mergePackageJsons = mergePackageJsons;\nexports.prepareExercisePackageJson = prepareExercisePackageJson;\nexports.shaPackageJson = shaPackageJson;\nexports.prepare = prepare;\nexports.registerExitHandler = registerExitHandler;\nexports.assignments = exports.packageFiles = void 0;\n\n/**\n * This file provides helper functions & is NOT intended to be run as a script.\n */\nconst shell = require('shelljs');\n\nconst path = require('path');\n\nconst crypto = require('crypto');\n\nconst exerciseDirs = shell.ls('-d', path.join('exercises', '{practice,concept}', '*'));\nconst packageFiles = exerciseDirs.map(dir => `${dir}/package.json`);\nexports.packageFiles = packageFiles;\nconst assignments = shell.env['ASSIGNMENT'] ? [shell.env['ASSIGNMENT']] : knownAssignments();\nexports.assignments = assignments;\n\nfunction knownAssignments() {\n  return exerciseDirs.map(directory => path.join(path.basename(path.dirname(directory)), path.basename(directory)));\n}\n\nfunction assertAssignment(assignment, shouldExist = true) {\n  assignment = assignment.replace(/[/\\\\]/g, path.sep);\n\n  if (assignment.split(path.sep).length === 2) {\n    if (!shouldExist) {\n      return true;\n    }\n\n    if (shell.test(`-d`, path.join('exercises', assignment))) {\n      return true;\n    }\n  }\n\n  shell.echo(\"[Failure] that's not a valid assignment reference\");\n\n  const chalk = require('chalk');\n\n  if (assignment.split(path.sep).length === 1) {\n    // prettier-ignore\n    shell.echo(`\nExpected ${chalk.cyan(`{type}${path.sep}{slug}`)}, actual: ${chalk.yellow(assignment)}.\n- Use ${chalk.green(`concept${path.sep}${assignment}`)} if ${chalk.yellow(assignment)} is a concept exercise.\n- Use ${chalk.green(`practice${path.sep}${assignment}`)} if ${chalk.yellow(assignment)} is a practice exercise.\n    `.trim());\n  }\n\n  const suggestions = knownAssignments().filter(known => known.includes(assignment));\n\n  if (suggestions.length > 0 && suggestions.length < 5) {\n    shell.echo('\\nDid you mean:\\n' + suggestions.map(suggestion => `- ${suggestion}`).join('\\n'));\n  }\n\n  return false;\n}\n\nfunction sha(str) {\n  return crypto.createHash('md5').update(str).digest('hex');\n}\n\nfunction findExerciseDirectory(input) {\n  const directory = exerciseDirs.find(exerciseDir => {\n    return input.indexOf(exerciseDir) !== -1;\n  });\n\n  if (!directory) {\n    return null;\n  }\n\n  return path.join(path.basename(path.dirname(directory)), path.basename(directory));\n}\n\nfunction fileConfiguration(assignment) {\n  const pathToConfig = path.join('exercises', assignment, '.meta', 'config.json');\n  let files = undefined;\n\n  if (shell.test('-f', pathToConfig)) {\n    const configuration = JSON.parse(shell.cat(pathToConfig).toString());\n\n    if (configuration.files && configuration.files.test.length > 0) {\n      files = configuration.files;\n    }\n  }\n\n  files = files || JSON.parse(shell.cat('config.json').toString()).files;\n  Object.keys(files).forEach(key => {\n    files[key] = files[key].map(value => value.replace('%{kebab_slug}', path.basename(assignment)).replace(/[/\\\\]/g, path.sep));\n  });\n  return files;\n}\n\nfunction hasStub(assignment) {\n  const stubFiles = fileConfiguration(assignment).solution;\n  return stubFiles.every(stubFile => shell.test('-f', path.join('exercises', assignment, stubFile)));\n}\n\nfunction envIsThruthy(key, unset = false) {\n  if (shell.env[key] === undefined) {\n    return unset;\n  }\n\n  return !['0', 0, 'false', false, null, 'null'].includes(shell.env[key]);\n}\n\nfunction shouldPrepare() {\n  return envIsThruthy('PREPARE');\n}\n\nfunction shouldCleanup() {\n  return envIsThruthy('CLEANUP');\n}\n\nfunction prepareAndRun(command, infoStr, failureStr) {\n  if (shouldPrepare()) {\n    const assignment = shell.env['ASSIGNMENT'];\n\n    if (assignment) {\n      prepare(assignment);\n    } else {\n      assignments.forEach(prepare);\n    }\n  }\n\n  if (infoStr) {\n    shell.echo(infoStr);\n  }\n\n  const result = shell.exec(command);\n\n  if (shouldCleanup()) {\n    cleanUp();\n  }\n\n  if (result.code !== 0) {\n    if (failureStr) {\n      shell.echo(failureStr);\n    }\n\n    shell.exit(1);\n  }\n}\n\nfunction cleanUp() {\n  shell.rm('-rf', 'tmp_exercises');\n  shell.rm('-f', 'exercise-package.json');\n  shell.rm('-f', 'exercise-package.json.sha');\n} // These packages will be skipped while performing checksum. In other words,\n// these packages are only interesting for maintaining this repository and not\n// for the student.\n\n\nconst SKIP_PACKAGES_FOR_CHECKSUM = ['shelljs', '@babel/node', 'prettier', 'diff', 'chalk']; // These fields may differ between package.json files.\n\nconst SKIP_FIELDS_FOR_CHECKSUM = ['name', 'description', 'author', 'contributors'];\n\nfunction createExercisePackageJson(writeSha = false) {\n  const packageFile = shell.cat('package.json').toString();\n  const packageJson = JSON.parse(packageFile); // Filter out some unwanted packages and create package.json for exercises\n\n  SKIP_PACKAGES_FOR_CHECKSUM.forEach(pkg => delete packageJson['devDependencies'][pkg]);\n  const shellStr = new shell.ShellString(JSON.stringify(packageJson, undefined, 2) + '\\n');\n  shellStr.to('exercise-package.json'); // Now remove all fields that should not be considered for checksum\n\n  SKIP_FIELDS_FOR_CHECKSUM.forEach(field => {\n    delete packageJson[field];\n  });\n  delete packageJson['repository']['directory'];\n\n  if (writeSha) {\n    const checksumShellStr = new shell.ShellString(shaPackageJson(packageJson));\n    checksumShellStr.to('exercise-package.json.sha');\n  }\n}\n\nfunction mergePackageJsons(basePackageJson, packageJson) {\n  const mergedPackageJson = JSON.parse(JSON.stringify(basePackageJson));\n  SKIP_FIELDS_FOR_CHECKSUM.forEach(key => {\n    mergedPackageJson[key] = packageJson[key];\n  });\n  const extraRepositoryKeys = Object.keys(packageJson.repository || {}).filter(key => !basePackageJson.repository[key]);\n  extraRepositoryKeys.forEach(key => {\n    mergedPackageJson.repository[key] = packageJson.repository[key];\n  });\n  return mergedPackageJson;\n}\n\nfunction prepareExercisePackageJson(destinationPath, writeSha = false) {\n  const packageFile = shell.cat(destinationPath).toString();\n  const packageJson = JSON.parse(packageFile); // Now remove all fields that should not be considered for checksum\n\n  SKIP_FIELDS_FOR_CHECKSUM.forEach(field => {\n    delete packageJson[field];\n  });\n  delete packageJson['repository']['directory'];\n\n  if (writeSha) {\n    const checksumShellStr = new shell.ShellString(shaPackageJson(packageJson));\n    checksumShellStr.to(`${destinationPath}.sha`);\n  }\n\n  return packageJson;\n}\n\nfunction shaPackageJson(packageJson) {\n  return sha(JSON.stringify(packageJson, undefined, 2).trim() + '\\n');\n}\n/**\n * Copy sample solution and specs for given assignment to tmp_exercises\n */\n\n\nfunction prepare(assignment) {\n  if (!assignment) {\n    shell.echo('[Failure] Assignment not provided');\n    shell.exit(1);\n  }\n\n  if (!assertAssignment(assignment, true)) {\n    shell.exit(1);\n  }\n\n  const files = fileConfiguration(assignment);\n  const [type] = assignment.split(/[/\\\\]/g);\n  const exampleFiles = type === 'concept' ? files.exemplar : files.example;\n  files.test.forEach(specFileName => {\n    const specFile = path.join('exercises', assignment, specFileName); // Skip file if it doesn't exist\n\n    if (!shell.test('-f', specFile)) {\n      if (specFileName !== 'custom.spec.js') {\n        console.warn(`Skipped copying test file for ${assignment}: ${specFileName} because it doesn't exist`);\n      }\n\n      return;\n    }\n\n    const specFileDestination = path.join('tmp_exercises', assignment, specFileName);\n    shell.mkdir('-p', path.dirname(specFileDestination));\n    shell.cp(specFile, specFileDestination); // Enable tests\n    //\n    // This purposefully does not replace describe.skip or test.skip, so we can\n    // have test cases that are _always_ skipped, including CI. Use case?\n    // - platform dependent tests\n    // - test cases that don't yet work with our solution\n    //\n\n    shell.sed(/x(test|it)\\(/, 'test(', specFileDestination).to(specFileDestination);\n    shell.sed('xdescribe', 'describe', specFileDestination).to(specFileDestination);\n  });\n  shell.mkdir('-p', path.join('tmp_exercises', assignment, 'lib'));\n  exampleFiles.forEach((exampleFileName, i) => {\n    const exampleFile = path.join('exercises', assignment, exampleFileName);\n    const exampleFileDestination = path.join('tmp_exercises', assignment, files.solution[i]);\n    shell.sed(\"from '../\", \"from './\", exampleFile).to(exampleFileDestination);\n  }); // If there are more solution files than example or exemplar files, copy over\n  // the remaining ones. This allows us to overwrite solution files by providing\n  // them in exemplar, but keep them\n\n  if (files.solution.length > exampleFiles.length) {\n    files.solution.slice(exampleFiles.length).forEach(extraLibFileName => {\n      const solutionFile = path.join('exercises', assignment, extraLibFileName);\n      const solutionFileDestination = path.join('tmp_exercises', assignment, extraLibFileName);\n      shell.cp(solutionFile, solutionFileDestination);\n    });\n  } // Copy new-style editor files\n\n\n  if ('editor' in files) {\n    files.editor.forEach(readonlyFileName => {\n      const readonlyFile = path.join('exercises', assignment, readonlyFileName);\n      const readonlyFileDestination = path.join('tmp_exercises', assignment, readonlyFileName);\n      shell.cp(readonlyFile, readonlyFileDestination);\n    });\n  } // Copy legacy lib files\n\n\n  const libDir = path.join('exercises', assignment, 'lib');\n\n  if (shell.test('-d', libDir)) {\n    shell.cp(path.join(libDir, '*.js'), path.join('tmp_exercises', assignment, 'lib'));\n  } // Copy legacy data files\n\n\n  shell.mkdir('-p', path.join('tmp_exercises', assignment, 'data'));\n  const dataDir = path.join('exercises', assignment, 'data');\n\n  if (shell.test('-d', dataDir)) {\n    shell.cp(path.join(dataDir, '*'), path.join('tmp_exercises', assignment, 'data'));\n  }\n}\n\nfunction registerExitHandler() {\n  function exitHandler(options, exitCode) {\n    cleanUp();\n\n    if (options.error) {\n      console.error(options.error);\n    }\n\n    if (options.cleanup) {\n      /* clean exit */\n    }\n\n    if (exitCode || exitCode === 0) {\n      /* exit code given */\n    }\n\n    if (options.exit) {\n      /* should exit forcefully */\n      process.exit();\n    }\n  } //do something when app is closing\n\n\n  process.on('exit', exitHandler.bind(null, {\n    cleanup: true\n  })); //catches ctrl+c event\n\n  process.on('SIGINT', exitHandler.bind(null, {\n    exit: true\n  })); // catches \"kill pid\" (for example: nodemon restart)\n\n  process.on('SIGUSR1', exitHandler.bind(null, {\n    exit: true\n  }));\n  process.on('SIGUSR2', exitHandler.bind(null, {\n    exit: true\n  })); //catches uncaught exceptions\n\n  process.on('uncaughtException', error => exitHandler({\n    exit: true,\n    error\n  }));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMuanMiXSwibmFtZXMiOlsic2hlbGwiLCJyZXF1aXJlIiwicGF0aCIsImNyeXB0byIsImV4ZXJjaXNlRGlycyIsImxzIiwiam9pbiIsInBhY2thZ2VGaWxlcyIsIm1hcCIsImRpciIsImFzc2lnbm1lbnRzIiwiZW52Iiwia25vd25Bc3NpZ25tZW50cyIsImRpcmVjdG9yeSIsImJhc2VuYW1lIiwiZGlybmFtZSIsImFzc2VydEFzc2lnbm1lbnQiLCJhc3NpZ25tZW50Iiwic2hvdWxkRXhpc3QiLCJyZXBsYWNlIiwic2VwIiwic3BsaXQiLCJsZW5ndGgiLCJ0ZXN0IiwiZWNobyIsImNoYWxrIiwiY3lhbiIsInllbGxvdyIsImdyZWVuIiwidHJpbSIsInN1Z2dlc3Rpb25zIiwiZmlsdGVyIiwia25vd24iLCJpbmNsdWRlcyIsInN1Z2dlc3Rpb24iLCJzaGEiLCJzdHIiLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiZGlnZXN0IiwiZmluZEV4ZXJjaXNlRGlyZWN0b3J5IiwiaW5wdXQiLCJmaW5kIiwiZXhlcmNpc2VEaXIiLCJpbmRleE9mIiwiZmlsZUNvbmZpZ3VyYXRpb24iLCJwYXRoVG9Db25maWciLCJmaWxlcyIsInVuZGVmaW5lZCIsImNvbmZpZ3VyYXRpb24iLCJKU09OIiwicGFyc2UiLCJjYXQiLCJ0b1N0cmluZyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJoYXNTdHViIiwic3R1YkZpbGVzIiwic29sdXRpb24iLCJldmVyeSIsInN0dWJGaWxlIiwiZW52SXNUaHJ1dGh5IiwidW5zZXQiLCJzaG91bGRQcmVwYXJlIiwic2hvdWxkQ2xlYW51cCIsInByZXBhcmVBbmRSdW4iLCJjb21tYW5kIiwiaW5mb1N0ciIsImZhaWx1cmVTdHIiLCJwcmVwYXJlIiwicmVzdWx0IiwiZXhlYyIsImNsZWFuVXAiLCJjb2RlIiwiZXhpdCIsInJtIiwiU0tJUF9QQUNLQUdFU19GT1JfQ0hFQ0tTVU0iLCJTS0lQX0ZJRUxEU19GT1JfQ0hFQ0tTVU0iLCJjcmVhdGVFeGVyY2lzZVBhY2thZ2VKc29uIiwid3JpdGVTaGEiLCJwYWNrYWdlRmlsZSIsInBhY2thZ2VKc29uIiwicGtnIiwic2hlbGxTdHIiLCJTaGVsbFN0cmluZyIsInN0cmluZ2lmeSIsInRvIiwiZmllbGQiLCJjaGVja3N1bVNoZWxsU3RyIiwic2hhUGFja2FnZUpzb24iLCJtZXJnZVBhY2thZ2VKc29ucyIsImJhc2VQYWNrYWdlSnNvbiIsIm1lcmdlZFBhY2thZ2VKc29uIiwiZXh0cmFSZXBvc2l0b3J5S2V5cyIsInJlcG9zaXRvcnkiLCJwcmVwYXJlRXhlcmNpc2VQYWNrYWdlSnNvbiIsImRlc3RpbmF0aW9uUGF0aCIsInR5cGUiLCJleGFtcGxlRmlsZXMiLCJleGVtcGxhciIsImV4YW1wbGUiLCJzcGVjRmlsZU5hbWUiLCJzcGVjRmlsZSIsImNvbnNvbGUiLCJ3YXJuIiwic3BlY0ZpbGVEZXN0aW5hdGlvbiIsIm1rZGlyIiwiY3AiLCJzZWQiLCJleGFtcGxlRmlsZU5hbWUiLCJpIiwiZXhhbXBsZUZpbGUiLCJleGFtcGxlRmlsZURlc3RpbmF0aW9uIiwic2xpY2UiLCJleHRyYUxpYkZpbGVOYW1lIiwic29sdXRpb25GaWxlIiwic29sdXRpb25GaWxlRGVzdGluYXRpb24iLCJlZGl0b3IiLCJyZWFkb25seUZpbGVOYW1lIiwicmVhZG9ubHlGaWxlIiwicmVhZG9ubHlGaWxlRGVzdGluYXRpb24iLCJsaWJEaXIiLCJkYXRhRGlyIiwicmVnaXN0ZXJFeGl0SGFuZGxlciIsImV4aXRIYW5kbGVyIiwib3B0aW9ucyIsImV4aXRDb2RlIiwiZXJyb3IiLCJjbGVhbnVwIiwicHJvY2VzcyIsIm9uIiwiYmluZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUUs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QUMsRUFBQUEsT0FBTyxDQUFDQyxFQUFSLENBQVcsUUFBWCxFQUFxQk4sV0FBVyxDQUFDTyxJQUFaLENBQWlCLElBQWpCLEVBQXVCO0FBQUV6RCxJQUFBQSxJQUFJLEVBQUU7QUFBUixHQUF2QixDQUFyQixFQXhCb0MsQ0EwQnBDOztBQUNBdUQsRUFBQUEsT0FBTyxDQUFDQyxFQUFSLENBQVcsU0FBWCxFQUFzQk4sV0FBVyxDQUFDTyxJQUFaLENBQWlCLElBQWpCLEVBQXVCO0FBQUV6RCxJQUFBQSxJQUFJLEVBQUU7QUFBUixHQUF2QixDQUF0QjtBQUNBdUQsRUFBQUEsT0FBTyxDQUFDQyxFQUFSLENBQVcsU0FBWCxFQUFzQk4sV0FBVyxDQUFDTyxJQUFaLENBQWlCLElBQWpCLEVBQXVCO0FBQUV6RCxJQUFBQSxJQUFJLEVBQUU7QUFBUixHQUF2QixDQUF0QixFQTVCb0MsQ0E4QnBDOztBQUNBdUQsRUFBQUEsT0FBTyxDQUFDQyxFQUFSLENBQVcsbUJBQVgsRUFBaUNILEtBQUQsSUFDOUJILFdBQVcsQ0FBQztBQUFFbEQsSUFBQUEsSUFBSSxFQUFFLElBQVI7QUFBY3FELElBQUFBO0FBQWQsR0FBRCxDQURiO0FBR0QiLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvamF2YXNjcmlwdC9qYXZhc2NyaXB0L3NjcmlwdHMvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGZpbGUgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyAmIGlzIE5PVCBpbnRlbmRlZCB0byBiZSBydW4gYXMgYSBzY3JpcHQuXG4gKi9cblxuY29uc3Qgc2hlbGwgPSByZXF1aXJlKCdzaGVsbGpzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG5cbmNvbnN0IGV4ZXJjaXNlRGlycyA9IHNoZWxsLmxzKFxuICAnLWQnLFxuICBwYXRoLmpvaW4oJ2V4ZXJjaXNlcycsICd7cHJhY3RpY2UsY29uY2VwdH0nLCAnKicpXG4pO1xuXG5leHBvcnQgY29uc3QgcGFja2FnZUZpbGVzID0gZXhlcmNpc2VEaXJzLm1hcCgoZGlyKSA9PiBgJHtkaXJ9L3BhY2thZ2UuanNvbmApO1xuXG5leHBvcnQgY29uc3QgYXNzaWdubWVudHMgPSBzaGVsbC5lbnZbJ0FTU0lHTk1FTlQnXVxuICA/IFtzaGVsbC5lbnZbJ0FTU0lHTk1FTlQnXV1cbiAgOiBrbm93bkFzc2lnbm1lbnRzKCk7XG5cbmZ1bmN0aW9uIGtub3duQXNzaWdubWVudHMoKSB7XG4gIHJldHVybiBleGVyY2lzZURpcnMubWFwKChkaXJlY3RvcnkpID0+XG4gICAgcGF0aC5qb2luKHBhdGguYmFzZW5hbWUocGF0aC5kaXJuYW1lKGRpcmVjdG9yeSkpLCBwYXRoLmJhc2VuYW1lKGRpcmVjdG9yeSkpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRBc3NpZ25tZW50KGFzc2lnbm1lbnQsIHNob3VsZEV4aXN0ID0gdHJ1ZSkge1xuICBhc3NpZ25tZW50ID0gYXNzaWdubWVudC5yZXBsYWNlKC9bL1xcXFxdL2csIHBhdGguc2VwKTtcblxuICBpZiAoYXNzaWdubWVudC5zcGxpdChwYXRoLnNlcCkubGVuZ3RoID09PSAyKSB7XG4gICAgaWYgKCFzaG91bGRFeGlzdCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHNoZWxsLnRlc3QoYC1kYCwgcGF0aC5qb2luKCdleGVyY2lzZXMnLCBhc3NpZ25tZW50KSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHNoZWxsLmVjaG8oXCJbRmFpbHVyZV0gdGhhdCdzIG5vdCBhIHZhbGlkIGFzc2lnbm1lbnQgcmVmZXJlbmNlXCIpO1xuICBjb25zdCBjaGFsayA9IHJlcXVpcmUoJ2NoYWxrJyk7XG5cbiAgaWYgKGFzc2lnbm1lbnQuc3BsaXQocGF0aC5zZXApLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHNoZWxsLmVjaG8oYFxuRXhwZWN0ZWQgJHtjaGFsay5jeWFuKGB7dHlwZX0ke3BhdGguc2VwfXtzbHVnfWApfSwgYWN0dWFsOiAke2NoYWxrLnllbGxvdyhhc3NpZ25tZW50KX0uXG4tIFVzZSAke2NoYWxrLmdyZWVuKGBjb25jZXB0JHtwYXRoLnNlcH0ke2Fzc2lnbm1lbnR9YCl9IGlmICR7Y2hhbGsueWVsbG93KGFzc2lnbm1lbnQpfSBpcyBhIGNvbmNlcHQgZXhlcmNpc2UuXG4tIFVzZSAke2NoYWxrLmdyZWVuKGBwcmFjdGljZSR7cGF0aC5zZXB9JHthc3NpZ25tZW50fWApfSBpZiAke2NoYWxrLnllbGxvdyhhc3NpZ25tZW50KX0gaXMgYSBwcmFjdGljZSBleGVyY2lzZS5cbiAgICBgLnRyaW0oKSk7XG4gIH1cblxuICBjb25zdCBzdWdnZXN0aW9ucyA9IGtub3duQXNzaWdubWVudHMoKS5maWx0ZXIoKGtub3duKSA9PlxuICAgIGtub3duLmluY2x1ZGVzKGFzc2lnbm1lbnQpXG4gICk7XG5cbiAgaWYgKHN1Z2dlc3Rpb25zLmxlbmd0aCA+IDAgJiYgc3VnZ2VzdGlvbnMubGVuZ3RoIDwgNSkge1xuICAgIHNoZWxsLmVjaG8oXG4gICAgICAnXFxuRGlkIHlvdSBtZWFuOlxcbicgK1xuICAgICAgICBzdWdnZXN0aW9ucy5tYXAoKHN1Z2dlc3Rpb24pID0+IGAtICR7c3VnZ2VzdGlvbn1gKS5qb2luKCdcXG4nKVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGEoc3RyKSB7XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKHN0cikuZGlnZXN0KCdoZXgnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRFeGVyY2lzZURpcmVjdG9yeShpbnB1dCkge1xuICBjb25zdCBkaXJlY3RvcnkgPSBleGVyY2lzZURpcnMuZmluZCgoZXhlcmNpc2VEaXIpID0+IHtcbiAgICByZXR1cm4gaW5wdXQuaW5kZXhPZihleGVyY2lzZURpcikgIT09IC0xO1xuICB9KTtcblxuICBpZiAoIWRpcmVjdG9yeSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHBhdGguam9pbihcbiAgICBwYXRoLmJhc2VuYW1lKHBhdGguZGlybmFtZShkaXJlY3RvcnkpKSxcbiAgICBwYXRoLmJhc2VuYW1lKGRpcmVjdG9yeSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGVDb25maWd1cmF0aW9uKGFzc2lnbm1lbnQpIHtcbiAgY29uc3QgcGF0aFRvQ29uZmlnID0gcGF0aC5qb2luKFxuICAgICdleGVyY2lzZXMnLFxuICAgIGFzc2lnbm1lbnQsXG4gICAgJy5tZXRhJyxcbiAgICAnY29uZmlnLmpzb24nXG4gICk7XG5cbiAgbGV0IGZpbGVzID0gdW5kZWZpbmVkO1xuXG4gIGlmIChzaGVsbC50ZXN0KCctZicsIHBhdGhUb0NvbmZpZykpIHtcbiAgICBjb25zdCBjb25maWd1cmF0aW9uID0gSlNPTi5wYXJzZShzaGVsbC5jYXQocGF0aFRvQ29uZmlnKS50b1N0cmluZygpKTtcbiAgICBpZiAoY29uZmlndXJhdGlvbi5maWxlcyAmJiBjb25maWd1cmF0aW9uLmZpbGVzLnRlc3QubGVuZ3RoID4gMCkge1xuICAgICAgZmlsZXMgPSBjb25maWd1cmF0aW9uLmZpbGVzO1xuICAgIH1cbiAgfVxuXG4gIGZpbGVzID0gZmlsZXMgfHwgSlNPTi5wYXJzZShzaGVsbC5jYXQoJ2NvbmZpZy5qc29uJykudG9TdHJpbmcoKSkuZmlsZXM7XG5cbiAgT2JqZWN0LmtleXMoZmlsZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGZpbGVzW2tleV0gPSBmaWxlc1trZXldLm1hcCgodmFsdWUpID0+XG4gICAgICB2YWx1ZVxuICAgICAgICAucmVwbGFjZSgnJXtrZWJhYl9zbHVnfScsIHBhdGguYmFzZW5hbWUoYXNzaWdubWVudCkpXG4gICAgICAgIC5yZXBsYWNlKC9bL1xcXFxdL2csIHBhdGguc2VwKVxuICAgICk7XG4gIH0pO1xuXG4gIHJldHVybiBmaWxlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1N0dWIoYXNzaWdubWVudCkge1xuICBjb25zdCBzdHViRmlsZXMgPSBmaWxlQ29uZmlndXJhdGlvbihhc3NpZ25tZW50KS5zb2x1dGlvbjtcblxuICByZXR1cm4gc3R1YkZpbGVzLmV2ZXJ5KChzdHViRmlsZSkgPT5cbiAgICBzaGVsbC50ZXN0KCctZicsIHBhdGguam9pbignZXhlcmNpc2VzJywgYXNzaWdubWVudCwgc3R1YkZpbGUpKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW52SXNUaHJ1dGh5KGtleSwgdW5zZXQgPSBmYWxzZSkge1xuICBpZiAoc2hlbGwuZW52W2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bnNldDtcbiAgfVxuXG4gIHJldHVybiAhWycwJywgMCwgJ2ZhbHNlJywgZmFsc2UsIG51bGwsICdudWxsJ10uaW5jbHVkZXMoc2hlbGwuZW52W2tleV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUHJlcGFyZSgpIHtcbiAgcmV0dXJuIGVudklzVGhydXRoeSgnUFJFUEFSRScpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkQ2xlYW51cCgpIHtcbiAgcmV0dXJuIGVudklzVGhydXRoeSgnQ0xFQU5VUCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUFuZFJ1bihjb21tYW5kLCBpbmZvU3RyLCBmYWlsdXJlU3RyKSB7XG4gIGlmIChzaG91bGRQcmVwYXJlKCkpIHtcbiAgICBjb25zdCBhc3NpZ25tZW50ID0gc2hlbGwuZW52WydBU1NJR05NRU5UJ107XG5cbiAgICBpZiAoYXNzaWdubWVudCkge1xuICAgICAgcHJlcGFyZShhc3NpZ25tZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzaWdubWVudHMuZm9yRWFjaChwcmVwYXJlKTtcbiAgICB9XG4gIH1cblxuICBpZiAoaW5mb1N0cikge1xuICAgIHNoZWxsLmVjaG8oaW5mb1N0cik7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gc2hlbGwuZXhlYyhjb21tYW5kKTtcblxuICBpZiAoc2hvdWxkQ2xlYW51cCgpKSB7XG4gICAgY2xlYW5VcCgpO1xuICB9XG5cbiAgaWYgKHJlc3VsdC5jb2RlICE9PSAwKSB7XG4gICAgaWYgKGZhaWx1cmVTdHIpIHtcbiAgICAgIHNoZWxsLmVjaG8oZmFpbHVyZVN0cik7XG4gICAgfVxuICAgIHNoZWxsLmV4aXQoMSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gIHNoZWxsLnJtKCctcmYnLCAndG1wX2V4ZXJjaXNlcycpO1xuICBzaGVsbC5ybSgnLWYnLCAnZXhlcmNpc2UtcGFja2FnZS5qc29uJyk7XG4gIHNoZWxsLnJtKCctZicsICdleGVyY2lzZS1wYWNrYWdlLmpzb24uc2hhJyk7XG59XG5cbi8vIFRoZXNlIHBhY2thZ2VzIHdpbGwgYmUgc2tpcHBlZCB3aGlsZSBwZXJmb3JtaW5nIGNoZWNrc3VtLiBJbiBvdGhlciB3b3Jkcyxcbi8vIHRoZXNlIHBhY2thZ2VzIGFyZSBvbmx5IGludGVyZXN0aW5nIGZvciBtYWludGFpbmluZyB0aGlzIHJlcG9zaXRvcnkgYW5kIG5vdFxuLy8gZm9yIHRoZSBzdHVkZW50LlxuY29uc3QgU0tJUF9QQUNLQUdFU19GT1JfQ0hFQ0tTVU0gPSBbXG4gICdzaGVsbGpzJyxcbiAgJ0BiYWJlbC9ub2RlJyxcbiAgJ3ByZXR0aWVyJyxcbiAgJ2RpZmYnLFxuICAnY2hhbGsnLFxuXTtcblxuLy8gVGhlc2UgZmllbGRzIG1heSBkaWZmZXIgYmV0d2VlbiBwYWNrYWdlLmpzb24gZmlsZXMuXG5jb25zdCBTS0lQX0ZJRUxEU19GT1JfQ0hFQ0tTVU0gPSBbXG4gICduYW1lJyxcbiAgJ2Rlc2NyaXB0aW9uJyxcbiAgJ2F1dGhvcicsXG4gICdjb250cmlidXRvcnMnLFxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4ZXJjaXNlUGFja2FnZUpzb24od3JpdGVTaGEgPSBmYWxzZSkge1xuICBjb25zdCBwYWNrYWdlRmlsZSA9IHNoZWxsLmNhdCgncGFja2FnZS5qc29uJykudG9TdHJpbmcoKTtcbiAgY29uc3QgcGFja2FnZUpzb24gPSBKU09OLnBhcnNlKHBhY2thZ2VGaWxlKTtcblxuICAvLyBGaWx0ZXIgb3V0IHNvbWUgdW53YW50ZWQgcGFja2FnZXMgYW5kIGNyZWF0ZSBwYWNrYWdlLmpzb24gZm9yIGV4ZXJjaXNlc1xuICBTS0lQX1BBQ0tBR0VTX0ZPUl9DSEVDS1NVTS5mb3JFYWNoKFxuICAgIChwa2cpID0+IGRlbGV0ZSBwYWNrYWdlSnNvblsnZGV2RGVwZW5kZW5jaWVzJ11bcGtnXVxuICApO1xuXG4gIGNvbnN0IHNoZWxsU3RyID0gbmV3IHNoZWxsLlNoZWxsU3RyaW5nKFxuICAgIEpTT04uc3RyaW5naWZ5KHBhY2thZ2VKc29uLCB1bmRlZmluZWQsIDIpICsgJ1xcbidcbiAgKTtcblxuICBzaGVsbFN0ci50bygnZXhlcmNpc2UtcGFja2FnZS5qc29uJyk7XG5cbiAgLy8gTm93IHJlbW92ZSBhbGwgZmllbGRzIHRoYXQgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGZvciBjaGVja3N1bVxuICBTS0lQX0ZJRUxEU19GT1JfQ0hFQ0tTVU0uZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICBkZWxldGUgcGFja2FnZUpzb25bZmllbGRdO1xuICB9KTtcblxuICBkZWxldGUgcGFja2FnZUpzb25bJ3JlcG9zaXRvcnknXVsnZGlyZWN0b3J5J107XG5cbiAgaWYgKHdyaXRlU2hhKSB7XG4gICAgY29uc3QgY2hlY2tzdW1TaGVsbFN0ciA9IG5ldyBzaGVsbC5TaGVsbFN0cmluZyhzaGFQYWNrYWdlSnNvbihwYWNrYWdlSnNvbikpO1xuICAgIGNoZWNrc3VtU2hlbGxTdHIudG8oJ2V4ZXJjaXNlLXBhY2thZ2UuanNvbi5zaGEnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VQYWNrYWdlSnNvbnMoYmFzZVBhY2thZ2VKc29uLCBwYWNrYWdlSnNvbikge1xuICBjb25zdCBtZXJnZWRQYWNrYWdlSnNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYmFzZVBhY2thZ2VKc29uKSk7XG5cbiAgU0tJUF9GSUVMRFNfRk9SX0NIRUNLU1VNLmZvckVhY2goKGtleSkgPT4ge1xuICAgIG1lcmdlZFBhY2thZ2VKc29uW2tleV0gPSBwYWNrYWdlSnNvbltrZXldO1xuICB9KTtcblxuICBjb25zdCBleHRyYVJlcG9zaXRvcnlLZXlzID0gT2JqZWN0LmtleXMocGFja2FnZUpzb24ucmVwb3NpdG9yeSB8fCB7fSkuZmlsdGVyKFxuICAgIChrZXkpID0+ICFiYXNlUGFja2FnZUpzb24ucmVwb3NpdG9yeVtrZXldXG4gICk7XG5cbiAgZXh0cmFSZXBvc2l0b3J5S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBtZXJnZWRQYWNrYWdlSnNvbi5yZXBvc2l0b3J5W2tleV0gPSBwYWNrYWdlSnNvbi5yZXBvc2l0b3J5W2tleV07XG4gIH0pO1xuXG4gIHJldHVybiBtZXJnZWRQYWNrYWdlSnNvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVFeGVyY2lzZVBhY2thZ2VKc29uKGRlc3RpbmF0aW9uUGF0aCwgd3JpdGVTaGEgPSBmYWxzZSkge1xuICBjb25zdCBwYWNrYWdlRmlsZSA9IHNoZWxsLmNhdChkZXN0aW5hdGlvblBhdGgpLnRvU3RyaW5nKCk7XG4gIGNvbnN0IHBhY2thZ2VKc29uID0gSlNPTi5wYXJzZShwYWNrYWdlRmlsZSk7XG5cbiAgLy8gTm93IHJlbW92ZSBhbGwgZmllbGRzIHRoYXQgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGZvciBjaGVja3N1bVxuICBTS0lQX0ZJRUxEU19GT1JfQ0hFQ0tTVU0uZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICBkZWxldGUgcGFja2FnZUpzb25bZmllbGRdO1xuICB9KTtcblxuICBkZWxldGUgcGFja2FnZUpzb25bJ3JlcG9zaXRvcnknXVsnZGlyZWN0b3J5J107XG5cbiAgaWYgKHdyaXRlU2hhKSB7XG4gICAgY29uc3QgY2hlY2tzdW1TaGVsbFN0ciA9IG5ldyBzaGVsbC5TaGVsbFN0cmluZyhzaGFQYWNrYWdlSnNvbihwYWNrYWdlSnNvbikpO1xuICAgIGNoZWNrc3VtU2hlbGxTdHIudG8oYCR7ZGVzdGluYXRpb25QYXRofS5zaGFgKTtcbiAgfVxuXG4gIHJldHVybiBwYWNrYWdlSnNvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYVBhY2thZ2VKc29uKHBhY2thZ2VKc29uKSB7XG4gIHJldHVybiBzaGEoSlNPTi5zdHJpbmdpZnkocGFja2FnZUpzb24sIHVuZGVmaW5lZCwgMikudHJpbSgpICsgJ1xcbicpO1xufVxuXG4vKipcbiAqIENvcHkgc2FtcGxlIHNvbHV0aW9uIGFuZCBzcGVjcyBmb3IgZ2l2ZW4gYXNzaWdubWVudCB0byB0bXBfZXhlcmNpc2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlKGFzc2lnbm1lbnQpIHtcbiAgaWYgKCFhc3NpZ25tZW50KSB7XG4gICAgc2hlbGwuZWNobygnW0ZhaWx1cmVdIEFzc2lnbm1lbnQgbm90IHByb3ZpZGVkJyk7XG4gICAgc2hlbGwuZXhpdCgxKTtcbiAgfVxuXG4gIGlmICghYXNzZXJ0QXNzaWdubWVudChhc3NpZ25tZW50LCB0cnVlKSkge1xuICAgIHNoZWxsLmV4aXQoMSk7XG4gIH1cblxuICBjb25zdCBmaWxlcyA9IGZpbGVDb25maWd1cmF0aW9uKGFzc2lnbm1lbnQpO1xuICBjb25zdCBbdHlwZV0gPSBhc3NpZ25tZW50LnNwbGl0KC9bL1xcXFxdL2cpO1xuXG4gIGNvbnN0IGV4YW1wbGVGaWxlcyA9IHR5cGUgPT09ICdjb25jZXB0JyA/IGZpbGVzLmV4ZW1wbGFyIDogZmlsZXMuZXhhbXBsZTtcblxuICBmaWxlcy50ZXN0LmZvckVhY2goKHNwZWNGaWxlTmFtZSkgPT4ge1xuICAgIGNvbnN0IHNwZWNGaWxlID0gcGF0aC5qb2luKCdleGVyY2lzZXMnLCBhc3NpZ25tZW50LCBzcGVjRmlsZU5hbWUpO1xuXG4gICAgLy8gU2tpcCBmaWxlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBpZiAoIXNoZWxsLnRlc3QoJy1mJywgc3BlY0ZpbGUpKSB7XG4gICAgICBpZiAoc3BlY0ZpbGVOYW1lICE9PSAnY3VzdG9tLnNwZWMuanMnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgU2tpcHBlZCBjb3B5aW5nIHRlc3QgZmlsZSBmb3IgJHthc3NpZ25tZW50fTogJHtzcGVjRmlsZU5hbWV9IGJlY2F1c2UgaXQgZG9lc24ndCBleGlzdGBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNwZWNGaWxlRGVzdGluYXRpb24gPSBwYXRoLmpvaW4oXG4gICAgICAndG1wX2V4ZXJjaXNlcycsXG4gICAgICBhc3NpZ25tZW50LFxuICAgICAgc3BlY0ZpbGVOYW1lXG4gICAgKTtcblxuICAgIHNoZWxsLm1rZGlyKCctcCcsIHBhdGguZGlybmFtZShzcGVjRmlsZURlc3RpbmF0aW9uKSk7XG4gICAgc2hlbGwuY3Aoc3BlY0ZpbGUsIHNwZWNGaWxlRGVzdGluYXRpb24pO1xuXG4gICAgLy8gRW5hYmxlIHRlc3RzXG4gICAgLy9cbiAgICAvLyBUaGlzIHB1cnBvc2VmdWxseSBkb2VzIG5vdCByZXBsYWNlIGRlc2NyaWJlLnNraXAgb3IgdGVzdC5za2lwLCBzbyB3ZSBjYW5cbiAgICAvLyBoYXZlIHRlc3QgY2FzZXMgdGhhdCBhcmUgX2Fsd2F5c18gc2tpcHBlZCwgaW5jbHVkaW5nIENJLiBVc2UgY2FzZT9cbiAgICAvLyAtIHBsYXRmb3JtIGRlcGVuZGVudCB0ZXN0c1xuICAgIC8vIC0gdGVzdCBjYXNlcyB0aGF0IGRvbid0IHlldCB3b3JrIHdpdGggb3VyIHNvbHV0aW9uXG4gICAgLy9cbiAgICBzaGVsbFxuICAgICAgLnNlZCgveCh0ZXN0fGl0KVxcKC8sICd0ZXN0KCcsIHNwZWNGaWxlRGVzdGluYXRpb24pXG4gICAgICAudG8oc3BlY0ZpbGVEZXN0aW5hdGlvbik7XG4gICAgc2hlbGxcbiAgICAgIC5zZWQoJ3hkZXNjcmliZScsICdkZXNjcmliZScsIHNwZWNGaWxlRGVzdGluYXRpb24pXG4gICAgICAudG8oc3BlY0ZpbGVEZXN0aW5hdGlvbik7XG4gIH0pO1xuXG4gIHNoZWxsLm1rZGlyKCctcCcsIHBhdGguam9pbigndG1wX2V4ZXJjaXNlcycsIGFzc2lnbm1lbnQsICdsaWInKSk7XG5cbiAgZXhhbXBsZUZpbGVzLmZvckVhY2goKGV4YW1wbGVGaWxlTmFtZSwgaSkgPT4ge1xuICAgIGNvbnN0IGV4YW1wbGVGaWxlID0gcGF0aC5qb2luKCdleGVyY2lzZXMnLCBhc3NpZ25tZW50LCBleGFtcGxlRmlsZU5hbWUpO1xuICAgIGNvbnN0IGV4YW1wbGVGaWxlRGVzdGluYXRpb24gPSBwYXRoLmpvaW4oXG4gICAgICAndG1wX2V4ZXJjaXNlcycsXG4gICAgICBhc3NpZ25tZW50LFxuICAgICAgZmlsZXMuc29sdXRpb25baV1cbiAgICApO1xuXG4gICAgc2hlbGwuc2VkKFwiZnJvbSAnLi4vXCIsIFwiZnJvbSAnLi9cIiwgZXhhbXBsZUZpbGUpLnRvKGV4YW1wbGVGaWxlRGVzdGluYXRpb24pO1xuICB9KTtcblxuICAvLyBJZiB0aGVyZSBhcmUgbW9yZSBzb2x1dGlvbiBmaWxlcyB0aGFuIGV4YW1wbGUgb3IgZXhlbXBsYXIgZmlsZXMsIGNvcHkgb3ZlclxuICAvLyB0aGUgcmVtYWluaW5nIG9uZXMuIFRoaXMgYWxsb3dzIHVzIHRvIG92ZXJ3cml0ZSBzb2x1dGlvbiBmaWxlcyBieSBwcm92aWRpbmdcbiAgLy8gdGhlbSBpbiBleGVtcGxhciwgYnV0IGtlZXAgdGhlbVxuICBpZiAoZmlsZXMuc29sdXRpb24ubGVuZ3RoID4gZXhhbXBsZUZpbGVzLmxlbmd0aCkge1xuICAgIGZpbGVzLnNvbHV0aW9uLnNsaWNlKGV4YW1wbGVGaWxlcy5sZW5ndGgpLmZvckVhY2goKGV4dHJhTGliRmlsZU5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHNvbHV0aW9uRmlsZSA9IHBhdGguam9pbignZXhlcmNpc2VzJywgYXNzaWdubWVudCwgZXh0cmFMaWJGaWxlTmFtZSk7XG4gICAgICBjb25zdCBzb2x1dGlvbkZpbGVEZXN0aW5hdGlvbiA9IHBhdGguam9pbihcbiAgICAgICAgJ3RtcF9leGVyY2lzZXMnLFxuICAgICAgICBhc3NpZ25tZW50LFxuICAgICAgICBleHRyYUxpYkZpbGVOYW1lXG4gICAgICApO1xuXG4gICAgICBzaGVsbC5jcChzb2x1dGlvbkZpbGUsIHNvbHV0aW9uRmlsZURlc3RpbmF0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENvcHkgbmV3LXN0eWxlIGVkaXRvciBmaWxlc1xuICBpZiAoJ2VkaXRvcicgaW4gZmlsZXMpIHtcbiAgICBmaWxlcy5lZGl0b3IuZm9yRWFjaCgocmVhZG9ubHlGaWxlTmFtZSkgPT4ge1xuICAgICAgY29uc3QgcmVhZG9ubHlGaWxlID0gcGF0aC5qb2luKCdleGVyY2lzZXMnLCBhc3NpZ25tZW50LCByZWFkb25seUZpbGVOYW1lKTtcbiAgICAgIGNvbnN0IHJlYWRvbmx5RmlsZURlc3RpbmF0aW9uID0gcGF0aC5qb2luKFxuICAgICAgICAndG1wX2V4ZXJjaXNlcycsXG4gICAgICAgIGFzc2lnbm1lbnQsXG4gICAgICAgIHJlYWRvbmx5RmlsZU5hbWVcbiAgICAgICk7XG5cbiAgICAgIHNoZWxsLmNwKHJlYWRvbmx5RmlsZSwgcmVhZG9ubHlGaWxlRGVzdGluYXRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQ29weSBsZWdhY3kgbGliIGZpbGVzXG4gIGNvbnN0IGxpYkRpciA9IHBhdGguam9pbignZXhlcmNpc2VzJywgYXNzaWdubWVudCwgJ2xpYicpO1xuICBpZiAoc2hlbGwudGVzdCgnLWQnLCBsaWJEaXIpKSB7XG4gICAgc2hlbGwuY3AoXG4gICAgICBwYXRoLmpvaW4obGliRGlyLCAnKi5qcycpLFxuICAgICAgcGF0aC5qb2luKCd0bXBfZXhlcmNpc2VzJywgYXNzaWdubWVudCwgJ2xpYicpXG4gICAgKTtcbiAgfVxuXG4gIC8vIENvcHkgbGVnYWN5IGRhdGEgZmlsZXNcbiAgc2hlbGwubWtkaXIoJy1wJywgcGF0aC5qb2luKCd0bXBfZXhlcmNpc2VzJywgYXNzaWdubWVudCwgJ2RhdGEnKSk7XG4gIGNvbnN0IGRhdGFEaXIgPSBwYXRoLmpvaW4oJ2V4ZXJjaXNlcycsIGFzc2lnbm1lbnQsICdkYXRhJyk7XG5cbiAgaWYgKHNoZWxsLnRlc3QoJy1kJywgZGF0YURpcikpIHtcbiAgICBzaGVsbC5jcChcbiAgICAgIHBhdGguam9pbihkYXRhRGlyLCAnKicpLFxuICAgICAgcGF0aC5qb2luKCd0bXBfZXhlcmNpc2VzJywgYXNzaWdubWVudCwgJ2RhdGEnKVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRXhpdEhhbmRsZXIoKSB7XG4gIGZ1bmN0aW9uIGV4aXRIYW5kbGVyKG9wdGlvbnMsIGV4aXRDb2RlKSB7XG4gICAgY2xlYW5VcCgpO1xuXG4gICAgaWYgKG9wdGlvbnMuZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3Iob3B0aW9ucy5lcnJvcik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuY2xlYW51cCkge1xuICAgICAgLyogY2xlYW4gZXhpdCAqL1xuICAgIH1cbiAgICBpZiAoZXhpdENvZGUgfHwgZXhpdENvZGUgPT09IDApIHtcbiAgICAgIC8qIGV4aXQgY29kZSBnaXZlbiAqL1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5leGl0KSB7XG4gICAgICAvKiBzaG91bGQgZXhpdCBmb3JjZWZ1bGx5ICovXG4gICAgICBwcm9jZXNzLmV4aXQoKTtcbiAgICB9XG4gIH1cblxuICAvL2RvIHNvbWV0aGluZyB3aGVuIGFwcCBpcyBjbG9zaW5nXG4gIHByb2Nlc3Mub24oJ2V4aXQnLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgY2xlYW51cDogdHJ1ZSB9KSk7XG5cbiAgLy9jYXRjaGVzIGN0cmwrYyBldmVudFxuICBwcm9jZXNzLm9uKCdTSUdJTlQnLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgZXhpdDogdHJ1ZSB9KSk7XG5cbiAgLy8gY2F0Y2hlcyBcImtpbGwgcGlkXCIgKGZvciBleGFtcGxlOiBub2RlbW9uIHJlc3RhcnQpXG4gIHByb2Nlc3Mub24oJ1NJR1VTUjEnLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgZXhpdDogdHJ1ZSB9KSk7XG4gIHByb2Nlc3Mub24oJ1NJR1VTUjInLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgZXhpdDogdHJ1ZSB9KSk7XG5cbiAgLy9jYXRjaGVzIHVuY2F1Z2h0IGV4Y2VwdGlvbnNcbiAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyb3IpID0+XG4gICAgZXhpdEhhbmRsZXIoeyBleGl0OiB0cnVlLCBlcnJvciB9KVxuICApO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "helpers.js"
      ],
      "names": [
        "shell",
        "require",
        "path",
        "crypto",
        "exerciseDirs",
        "ls",
        "join",
        "packageFiles",
        "map",
        "dir",
        "assignments",
        "env",
        "knownAssignments",
        "directory",
        "basename",
        "dirname",
        "assertAssignment",
        "assignment",
        "shouldExist",
        "replace",
        "sep",
        "split",
        "length",
        "test",
        "echo",
        "chalk",
        "cyan",
        "yellow",
        "green",
        "trim",
        "suggestions",
        "filter",
        "known",
        "includes",
        "suggestion",
        "sha",
        "str",
        "createHash",
        "update",
        "digest",
        "findExerciseDirectory",
        "input",
        "find",
        "exerciseDir",
        "indexOf",
        "fileConfiguration",
        "pathToConfig",
        "files",
        "undefined",
        "configuration",
        "JSON",
        "parse",
        "cat",
        "toString",
        "Object",
        "keys",
        "forEach",
        "key",
        "value",
        "hasStub",
        "stubFiles",
        "solution",
        "every",
        "stubFile",
        "envIsThruthy",
        "unset",
        "shouldPrepare",
        "shouldCleanup",
        "prepareAndRun",
        "command",
        "infoStr",
        "failureStr",
        "prepare",
        "result",
        "exec",
        "cleanUp",
        "code",
        "exit",
        "rm",
        "SKIP_PACKAGES_FOR_CHECKSUM",
        "SKIP_FIELDS_FOR_CHECKSUM",
        "createExercisePackageJson",
        "writeSha",
        "packageFile",
        "packageJson",
        "pkg",
        "shellStr",
        "ShellString",
        "stringify",
        "to",
        "field",
        "checksumShellStr",
        "shaPackageJson",
        "mergePackageJsons",
        "basePackageJson",
        "mergedPackageJson",
        "extraRepositoryKeys",
        "repository",
        "prepareExercisePackageJson",
        "destinationPath",
        "type",
        "exampleFiles",
        "exemplar",
        "example",
        "specFileName",
        "specFile",
        "console",
        "warn",
        "specFileDestination",
        "mkdir",
        "cp",
        "sed",
        "exampleFileName",
        "i",
        "exampleFile",
        "exampleFileDestination",
        "slice",
        "extraLibFileName",
        "solutionFile",
        "solutionFileDestination",
        "editor",
        "readonlyFileName",
        "readonlyFile",
        "readonlyFileDestination",
        "libDir",
        "dataDir",
        "registerExitHandler",
        "exitHandler",
        "options",
        "exitCode",
        "error",
        "cleanup",
        "process",
        "on",
        "bind"
      ],
      "mappings": "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",
      "sourceRoot": "/home/runner/work/javascript/javascript/scripts/",
      "sourcesContent": [
        "/**\n * This file provides helper functions & is NOT intended to be run as a script.\n */\n\nconst shell = require('shelljs');\nconst path = require('path');\nconst crypto = require('crypto');\n\nconst exerciseDirs = shell.ls(\n  '-d',\n  path.join('exercises', '{practice,concept}', '*')\n);\n\nexport const packageFiles = exerciseDirs.map((dir) => `${dir}/package.json`);\n\nexport const assignments = shell.env['ASSIGNMENT']\n  ? [shell.env['ASSIGNMENT']]\n  : knownAssignments();\n\nfunction knownAssignments() {\n  return exerciseDirs.map((directory) =>\n    path.join(path.basename(path.dirname(directory)), path.basename(directory))\n  );\n}\n\nexport function assertAssignment(assignment, shouldExist = true) {\n  assignment = assignment.replace(/[/\\\\]/g, path.sep);\n\n  if (assignment.split(path.sep).length === 2) {\n    if (!shouldExist) {\n      return true;\n    }\n\n    if (shell.test(`-d`, path.join('exercises', assignment))) {\n      return true;\n    }\n  }\n\n  shell.echo(\"[Failure] that's not a valid assignment reference\");\n  const chalk = require('chalk');\n\n  if (assignment.split(path.sep).length === 1) {\n    // prettier-ignore\n    shell.echo(`\nExpected ${chalk.cyan(`{type}${path.sep}{slug}`)}, actual: ${chalk.yellow(assignment)}.\n- Use ${chalk.green(`concept${path.sep}${assignment}`)} if ${chalk.yellow(assignment)} is a concept exercise.\n- Use ${chalk.green(`practice${path.sep}${assignment}`)} if ${chalk.yellow(assignment)} is a practice exercise.\n    `.trim());\n  }\n\n  const suggestions = knownAssignments().filter((known) =>\n    known.includes(assignment)\n  );\n\n  if (suggestions.length > 0 && suggestions.length < 5) {\n    shell.echo(\n      '\\nDid you mean:\\n' +\n        suggestions.map((suggestion) => `- ${suggestion}`).join('\\n')\n    );\n  }\n\n  return false;\n}\n\nexport function sha(str) {\n  return crypto.createHash('md5').update(str).digest('hex');\n}\n\nexport function findExerciseDirectory(input) {\n  const directory = exerciseDirs.find((exerciseDir) => {\n    return input.indexOf(exerciseDir) !== -1;\n  });\n\n  if (!directory) {\n    return null;\n  }\n\n  return path.join(\n    path.basename(path.dirname(directory)),\n    path.basename(directory)\n  );\n}\n\nexport function fileConfiguration(assignment) {\n  const pathToConfig = path.join(\n    'exercises',\n    assignment,\n    '.meta',\n    'config.json'\n  );\n\n  let files = undefined;\n\n  if (shell.test('-f', pathToConfig)) {\n    const configuration = JSON.parse(shell.cat(pathToConfig).toString());\n    if (configuration.files && configuration.files.test.length > 0) {\n      files = configuration.files;\n    }\n  }\n\n  files = files || JSON.parse(shell.cat('config.json').toString()).files;\n\n  Object.keys(files).forEach((key) => {\n    files[key] = files[key].map((value) =>\n      value\n        .replace('%{kebab_slug}', path.basename(assignment))\n        .replace(/[/\\\\]/g, path.sep)\n    );\n  });\n\n  return files;\n}\n\nexport function hasStub(assignment) {\n  const stubFiles = fileConfiguration(assignment).solution;\n\n  return stubFiles.every((stubFile) =>\n    shell.test('-f', path.join('exercises', assignment, stubFile))\n  );\n}\n\nexport function envIsThruthy(key, unset = false) {\n  if (shell.env[key] === undefined) {\n    return unset;\n  }\n\n  return !['0', 0, 'false', false, null, 'null'].includes(shell.env[key]);\n}\n\nexport function shouldPrepare() {\n  return envIsThruthy('PREPARE');\n}\n\nexport function shouldCleanup() {\n  return envIsThruthy('CLEANUP');\n}\n\nexport function prepareAndRun(command, infoStr, failureStr) {\n  if (shouldPrepare()) {\n    const assignment = shell.env['ASSIGNMENT'];\n\n    if (assignment) {\n      prepare(assignment);\n    } else {\n      assignments.forEach(prepare);\n    }\n  }\n\n  if (infoStr) {\n    shell.echo(infoStr);\n  }\n  const result = shell.exec(command);\n\n  if (shouldCleanup()) {\n    cleanUp();\n  }\n\n  if (result.code !== 0) {\n    if (failureStr) {\n      shell.echo(failureStr);\n    }\n    shell.exit(1);\n  }\n}\n\nexport function cleanUp() {\n  shell.rm('-rf', 'tmp_exercises');\n  shell.rm('-f', 'exercise-package.json');\n  shell.rm('-f', 'exercise-package.json.sha');\n}\n\n// These packages will be skipped while performing checksum. In other words,\n// these packages are only interesting for maintaining this repository and not\n// for the student.\nconst SKIP_PACKAGES_FOR_CHECKSUM = [\n  'shelljs',\n  '@babel/node',\n  'prettier',\n  'diff',\n  'chalk',\n];\n\n// These fields may differ between package.json files.\nconst SKIP_FIELDS_FOR_CHECKSUM = [\n  'name',\n  'description',\n  'author',\n  'contributors',\n];\n\nexport function createExercisePackageJson(writeSha = false) {\n  const packageFile = shell.cat('package.json').toString();\n  const packageJson = JSON.parse(packageFile);\n\n  // Filter out some unwanted packages and create package.json for exercises\n  SKIP_PACKAGES_FOR_CHECKSUM.forEach(\n    (pkg) => delete packageJson['devDependencies'][pkg]\n  );\n\n  const shellStr = new shell.ShellString(\n    JSON.stringify(packageJson, undefined, 2) + '\\n'\n  );\n\n  shellStr.to('exercise-package.json');\n\n  // Now remove all fields that should not be considered for checksum\n  SKIP_FIELDS_FOR_CHECKSUM.forEach((field) => {\n    delete packageJson[field];\n  });\n\n  delete packageJson['repository']['directory'];\n\n  if (writeSha) {\n    const checksumShellStr = new shell.ShellString(shaPackageJson(packageJson));\n    checksumShellStr.to('exercise-package.json.sha');\n  }\n}\n\nexport function mergePackageJsons(basePackageJson, packageJson) {\n  const mergedPackageJson = JSON.parse(JSON.stringify(basePackageJson));\n\n  SKIP_FIELDS_FOR_CHECKSUM.forEach((key) => {\n    mergedPackageJson[key] = packageJson[key];\n  });\n\n  const extraRepositoryKeys = Object.keys(packageJson.repository || {}).filter(\n    (key) => !basePackageJson.repository[key]\n  );\n\n  extraRepositoryKeys.forEach((key) => {\n    mergedPackageJson.repository[key] = packageJson.repository[key];\n  });\n\n  return mergedPackageJson;\n}\n\nexport function prepareExercisePackageJson(destinationPath, writeSha = false) {\n  const packageFile = shell.cat(destinationPath).toString();\n  const packageJson = JSON.parse(packageFile);\n\n  // Now remove all fields that should not be considered for checksum\n  SKIP_FIELDS_FOR_CHECKSUM.forEach((field) => {\n    delete packageJson[field];\n  });\n\n  delete packageJson['repository']['directory'];\n\n  if (writeSha) {\n    const checksumShellStr = new shell.ShellString(shaPackageJson(packageJson));\n    checksumShellStr.to(`${destinationPath}.sha`);\n  }\n\n  return packageJson;\n}\n\nexport function shaPackageJson(packageJson) {\n  return sha(JSON.stringify(packageJson, undefined, 2).trim() + '\\n');\n}\n\n/**\n * Copy sample solution and specs for given assignment to tmp_exercises\n */\nexport function prepare(assignment) {\n  if (!assignment) {\n    shell.echo('[Failure] Assignment not provided');\n    shell.exit(1);\n  }\n\n  if (!assertAssignment(assignment, true)) {\n    shell.exit(1);\n  }\n\n  const files = fileConfiguration(assignment);\n  const [type] = assignment.split(/[/\\\\]/g);\n\n  const exampleFiles = type === 'concept' ? files.exemplar : files.example;\n\n  files.test.forEach((specFileName) => {\n    const specFile = path.join('exercises', assignment, specFileName);\n\n    // Skip file if it doesn't exist\n    if (!shell.test('-f', specFile)) {\n      if (specFileName !== 'custom.spec.js') {\n        console.warn(\n          `Skipped copying test file for ${assignment}: ${specFileName} because it doesn't exist`\n        );\n      }\n\n      return;\n    }\n\n    const specFileDestination = path.join(\n      'tmp_exercises',\n      assignment,\n      specFileName\n    );\n\n    shell.mkdir('-p', path.dirname(specFileDestination));\n    shell.cp(specFile, specFileDestination);\n\n    // Enable tests\n    //\n    // This purposefully does not replace describe.skip or test.skip, so we can\n    // have test cases that are _always_ skipped, including CI. Use case?\n    // - platform dependent tests\n    // - test cases that don't yet work with our solution\n    //\n    shell\n      .sed(/x(test|it)\\(/, 'test(', specFileDestination)\n      .to(specFileDestination);\n    shell\n      .sed('xdescribe', 'describe', specFileDestination)\n      .to(specFileDestination);\n  });\n\n  shell.mkdir('-p', path.join('tmp_exercises', assignment, 'lib'));\n\n  exampleFiles.forEach((exampleFileName, i) => {\n    const exampleFile = path.join('exercises', assignment, exampleFileName);\n    const exampleFileDestination = path.join(\n      'tmp_exercises',\n      assignment,\n      files.solution[i]\n    );\n\n    shell.sed(\"from '../\", \"from './\", exampleFile).to(exampleFileDestination);\n  });\n\n  // If there are more solution files than example or exemplar files, copy over\n  // the remaining ones. This allows us to overwrite solution files by providing\n  // them in exemplar, but keep them\n  if (files.solution.length > exampleFiles.length) {\n    files.solution.slice(exampleFiles.length).forEach((extraLibFileName) => {\n      const solutionFile = path.join('exercises', assignment, extraLibFileName);\n      const solutionFileDestination = path.join(\n        'tmp_exercises',\n        assignment,\n        extraLibFileName\n      );\n\n      shell.cp(solutionFile, solutionFileDestination);\n    });\n  }\n\n  // Copy new-style editor files\n  if ('editor' in files) {\n    files.editor.forEach((readonlyFileName) => {\n      const readonlyFile = path.join('exercises', assignment, readonlyFileName);\n      const readonlyFileDestination = path.join(\n        'tmp_exercises',\n        assignment,\n        readonlyFileName\n      );\n\n      shell.cp(readonlyFile, readonlyFileDestination);\n    });\n  }\n\n  // Copy legacy lib files\n  const libDir = path.join('exercises', assignment, 'lib');\n  if (shell.test('-d', libDir)) {\n    shell.cp(\n      path.join(libDir, '*.js'),\n      path.join('tmp_exercises', assignment, 'lib')\n    );\n  }\n\n  // Copy legacy data files\n  shell.mkdir('-p', path.join('tmp_exercises', assignment, 'data'));\n  const dataDir = path.join('exercises', assignment, 'data');\n\n  if (shell.test('-d', dataDir)) {\n    shell.cp(\n      path.join(dataDir, '*'),\n      path.join('tmp_exercises', assignment, 'data')\n    );\n  }\n}\n\nexport function registerExitHandler() {\n  function exitHandler(options, exitCode) {\n    cleanUp();\n\n    if (options.error) {\n      console.error(options.error);\n    }\n\n    if (options.cleanup) {\n      /* clean exit */\n    }\n    if (exitCode || exitCode === 0) {\n      /* exit code given */\n    }\n    if (options.exit) {\n      /* should exit forcefully */\n      process.exit();\n    }\n  }\n\n  //do something when app is closing\n  process.on('exit', exitHandler.bind(null, { cleanup: true }));\n\n  //catches ctrl+c event\n  process.on('SIGINT', exitHandler.bind(null, { exit: true }));\n\n  // catches \"kill pid\" (for example: nodemon restart)\n  process.on('SIGUSR1', exitHandler.bind(null, { exit: true }));\n  process.on('SIGUSR2', exitHandler.bind(null, { exit: true }));\n\n  //catches uncaught exceptions\n  process.on('uncaughtException', (error) =>\n    exitHandler({ exit: true, error })\n  );\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1620250116102
  }
}